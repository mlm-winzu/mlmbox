# Модель: Slot

## 1. Описание

**`Slot`** — это модель, представляющая собой ячейку, позицию или "место" в иерархической структуре типа `Tree`. В отличие от `Distributor`, который является "бизнес-сущностью" (участником сети), `Slot` — это скорее "структурная единица" или "актив".

Каждый `Slot` принадлежит определенному `Distributor`, что означает, что дистрибьютор "владеет" этим местом в дереве.

## 2. Назначение и решаемые задачи

Модель `Slot` используется для построения фиксированных или динамических иерархических структур, которые могут продаваться, покупаться или передаваться.

### Ключевые задачи:
- **Представление позиций**: `Slot` является узлом в графе (дереве) типа `Tree`.
- **Фиксация владения**: Поле `distributor_id` четко определяет, какой `Distributor` владеет данной позицией.
- **Управление состоянием через политики**: Поле `policy_id` позволяет применять к слоту централизованно управляемые политики (`SlotPolicy`), гибко управляя его поведением.
- **Построение иерархии**: Поля `parent_id` и `tree_id` определяют положение слота в общей структуре.
- **Управление вместимостью**: Поля `children_capacity` и `children_quantity` позволяют управлять заполнением структуры под данным слотом.

## 3. Ключевые поля и концепции

- `distributor_id`: ID дистрибьютора, который владеет этим слотом.
- `tree_id`: ID дерева (`Tree`), к которому относится этот слот.
- `parent_id`: Указывает на родительский `Slot`, формируя иерархию.
- `policy_id`: Обязательное поле. `Slot` всегда подчиняется правилам, определенным в соответствующей `SlotPolicy`. Должна существовать как минимум "политика по умолчанию".

## 4. Сценарии использования (кейсы)

- **Покупка бизнес-места**: `Distributor` покупает `Slot` в маркетинговом дереве (`Tree`).
- **"Заморозка" слотов**: Администратор применяет `policy_id` к группе слотов, чтобы временно запретить любые действия с ними.

## 5. Связи с другими моделями

- **`Distributor`**: `Slot` **принадлежит** одному `Distributor` (связь по `distributor_id`).
- **`Tree`**: `Slot` **является частью** одного `Tree` (связь по `tree_id`).
- **`SlotPolicy`**: `Slot` **управляется** одной политикой (связь по `policy_id`).
