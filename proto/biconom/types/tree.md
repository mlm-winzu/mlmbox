# Модель: Tree

## 1. Описание

**`Tree`** — это высокоуровневая модель, представляющая собой иерархическую структуру или "маркетинговый план" (например, бинарный или матричный). Она всегда является дочерним слоем от `Network` и служит глобальным контейнером для `Slot` (слотов) и `TreePartition` (партиций).

## 2. Назначение и решаемые задачи

Модель `Tree` определяет "игровое поле" и правила для структур, основанных на слотах.

### Ключевые задачи:
- **Определение пространства**: `Tree` создает уникальное пространство (по `id` или `name`), в котором существуют `Slot`.
- **Задание правил по умолчанию**: Устанавливает общие правила для всех слотов внутри, например, `slot_children_capacity_default`.
- **Связь с сетями**: Всегда связана с конкретной `Network`, что позволяет применять маркетинговые планы к партнерским структурам.
- **Управление структурой**: Является точкой входа для управления всей иерархией слотов.

## 3. Ключевые поля и концепции

- `name`: Уникальное имя дерева, которое может использоваться для его идентификации (например, "Бинарное дерево", "Матрица 3x3").
- `network_id`: ID сети (`Network`), с которой это дерево неразрывно связано.
- `root_partition_id`: ID корневой партиции (`TreePartition`), которая является началом всей структуры слотов в этом дереве.
- `slot_children_capacity_default`: Вместимость дочерних слотов по умолчанию.
- `policy_id`: Обязательное поле. `Tree` всегда подчиняется правилам, определенным в соответствующей `TreePolicy`.

## 4. Сценарии использования (кейсы)

- **Запуск нового маркетингового плана**: Администратор создает новое `Tree` и привязывает его к существующей `Network`.
- **Получение всей структуры**: Для полного анализа или отображения структуры, система начинает обход с `Tree`, находит его корневую партицию и далее рекурсивно обходит все слоты.

## 5. Связи с другими моделями

- **`Network`**: `Tree` **всегда является дочерним элементом** одной `Network` (связь по `network_id`).
- **`Slot`**: `Tree` **является контейнером** для `Slot` (связь по `tree_id` в `Slot`).
- **`TreePartition`**: `Tree` **содержит** одну или несколько `TreePartition` и имеет ссылку на корневую.
- **`TreePolicy`**: `Tree` **управляется** одной политикой.
