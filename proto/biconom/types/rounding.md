# Модель: Rounding

## 1. Описание

**`Rounding`** — это встраиваемая модель, которая определяет полный, недвусмысленный набор правил для математического округления. Она поддерживает округление как до знаков после запятой (положительная `precision`), так и до разрядов до запятой (отрицательная `precision`).

## 2. Назначение и решаемые задачи

Основная цель — централизовать и унифицировать логику округления, которая будет применяться к результатам расчетов на этапе постобработки.

### Ключевые задачи:
- **Определение режима**: Указывает, какой именно математический алгоритм округления использовать.
- **Определение точности**: Указывает, до какого количества знаков следует округлять.

## 3. Ключевые поля и концепции

- `kind`: Поле типа `Rounding.Kind` (`enum`), которое определяет математический режим округления.
- `precision`: **Знаковое** целое число (`sint32`), определяющее точность:
  - **Положительное** (`2`): Округление до знаков *после* запятой (до сотых).
  - **Нулевое** (`0`): Округление до целого числа.
  - **Отрицательное** (`-2`): Округление до знаков *до* запятой (до сотен).

### Вложенный Enum: `Rounding.Kind`
- **`UNSPECIFIED`**: Режим не указан. Бэкенду следует использовать безопасное поведение по умолчанию, как правило, `HALF_UP`.

- **`HALF_UP`**: Стандартное математическое округление.
  - `2.5` (precision 0) -> `3`
  - `2.45` (precision 1) -> `2.5`
  - `12350` (precision -2) -> `12400`

- **`FLOOR`**: Округление "вниз" или "к полу".
  - `2.7` (precision 0) -> `2`
  - `-2.3` (precision 0) -> `-3`
  - `12399` (precision -2) -> `12300`

- **`CEILING`**: Округление "вверх" или "к потолку".
  - `2.3` (precision 0) -> `3`
  - `-2.7` (precision 0) -> `-2`
  - `12301` (precision -2) -> `12400`

## 4. Сценарии использования (кейсы)

- **Округление до центов**: `{ kind: HALF_UP, precision: 2 }` (123.456 -> 123.46)
- **Отбрасывание дробной части**: `{ kind: FLOOR, precision: 0 }` (123.456 -> 123)
- **Округление до ближайшей сотни**: `{ kind: HALF_UP, precision: -2 }` (12345 -> 12300)
- **Округление до ближайших 10 долларов (вверх)**: `{ kind: CEILING, precision: -1 }` (123 -> 130)

## 5. Связи с другими моделями

- **`Calculation.PostProcessing`**: `PostProcessing` **использует** `Rounding` для определения правил округления.
