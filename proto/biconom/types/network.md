# Модель: Network

## 1. Описание

**`Network`** — это высокоуровневая модель, представляющая собой основную партнерскую или дистрибьюторскую сеть. Она является глобальным контейнером для `Distributor` и `NetworkPartition`.

Если `Tree` — это структура для "мест" (слотов), то `Network` — это структура для "людей" (дистрибьюторов).

## 2. Назначение и решаемые задачи

Модель `Network` определяет "пространство", в котором строятся партнерские иерархии.

### Ключевые задачи:
- **Определение пространства**: `Network` создает уникальное пространство (по `id` или `name`), в котором существуют `Distributor`.
- **Изоляция иерархий**: В системе может быть несколько независимых сетей (например, "Сеть для Европы", "Сеть для Азии") со своими участниками.
- **Управление структурой**: Является точкой входа для управления всей иерархией дистрибьюторов.

## 3. Ключевые поля и концепции

- `name`: Уникальное имя сети, которое может использоваться для ее идентификации (например, "Основная партнерская сеть").
- `root_partition_id`: ID корневой партиции (`NetworkPartition`), которая является началом всей иерархии дистрибьюторов в этой сети.
- `policy_id`: Обязательное поле. `Network` всегда подчиняется правилам, определенным в соответствующей `NetworkPolicy`.

## 4. Сценарии использования (кейсы)

- **Запуск партнерской программы**: Администратор создает новую `Network` для запуска новой программы.
- **Разделение бизнеса**: Компания может использовать разные `Network` для разных продуктов или регионов, чтобы их партнерские структуры не пересекались.
- **Получение всей иерархии**: Для построения полного дерева партнеров система начинает с `Network`, находит ее корневую партицию и далее рекурсивно обходит всех дистрибьюторов.

## 5. Связи с другими моделями

- **`Distributor`**: `Network` **является контейнером** для `Distributor` (связь по `network_id` в `Distributor`).
- **`NetworkPartition`**: `Network` **содержит** одну или несколько `NetworkPartition` и имеет ссылку на корневую (`root_partition_id`).
- **`Tree`**: `Network` **может содержать** ноль или более `Tree` (деревьев), которые представляют собой маркетинговые планы (например, матрицы или бинары), применяемые к дистрибьюторам данной сети.
- **`NetworkPolicy`**: `Network` **управляется** одной политикой.
