# Сервис: LocaleService

## 1. Описание

**`LocaleService`** — это клиентский сервис, который предоставляет полный набор инструментов для управления языковыми предпочтениями пользователя и для получения справочной информации обо всех локалях, поддерживаемых системой.

Сервис четко разделен на две группы методов: для работы с персональными настройками текущего пользователя и для получения общих данных.

## 2. Описание методов (RPC)

### Часть 1: Управление локалью пользователя

#### `rpc GetCurrent(google.protobuf.Empty) returns (biconom.types.Locale)`
- **Назначение**: Получить текущую выбранную локаль для аутентифицированного пользователя.
- **Использование**: Это один из первых запросов, который клиент делает после входа пользователя, чтобы правильно настроить язык интерфейса.

#### `rpc SetCurrent(biconom.types.Locale.Id) returns (biconom.types.Locale)`
- **Назначение**: Установить новую локаль для текущего пользователя.
- **Использование**: Вызывается, когда пользователь в настройках своего профиля выбирает другой язык из списка.

### Часть 2: Получение справочной информации

#### `rpc Get(biconom.types.Locale.Id) returns (biconom.types.Locale)`
- **Назначение**: Получить полную информацию о конкретной локали по ее `id` или `code`.
- **Использование**: Может использоваться для получения деталей локали, которую пользователь еще не выбрал.

#### `rpc List(ListRequest) returns (biconom.types.Locale.List)`
- **Назначение**: Получить список всех локалей, доступных в системе.
- **Использование**: Это ключевой метод для построения UI выбора языка. Клиент запрашивает все `ACTIVE` локали и формирует из них выпадающий список.
- **Параметры `ListRequest`**:
  - `optional status`: Позволяет отфильтровать локали по статусу (например, запросить только `ACTIVE`).
  - `optional cursor`: **Курсор** для пагинации.
  - `optional sort`: **Необязательное** поле для управления направлением и лимитом.
